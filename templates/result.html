<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ScamSniff — Result</title>
    <link rel="icon" href="/static/logo.svg" type="image/svg+xml">
    <link rel="stylesheet" href="/static/style.css">
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="brand">
          <img src="/static/logo.svg" alt="ScamSniff logo">
          <span class="title">ScamSniff</span>
        </div>
        <div class="toolbar">
          <button id="themeBtn" class="toggle-btn">Toggle Light/Dark</button>
        </div>
      </div>

      <div class="card">
        {% set ok = (label.startswith('Likely')) %}
        <span class="badge {{ 'ok' if ok else 'warn' }}">{{ label }}</span>
        <h1>Check Result</h1>
        <p class="subtitle">Reasons we arrived at this outcome:</p>

        <ul>
          {% for r in reasons %}
            <li>{{ r }}</li>
          {% endfor %}
        </ul>

        <button onclick="window.location.href='/'">Run Another Check</button>

        <!-- BUG REPORT LINK -->
        <p class="note">
          <span style="vertical-align: middle; margin-right: 4px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#fbbf24" viewBox="0 0 16 16">
              <path d="M4.355 1.182a.5.5 0 0 1 .637.769A6.97 6.97 0 0 0 3.06 5H2a.5.5 0 0 1 0-1h1.06c.28-.885.78-1.674 1.48-2.318a.5.5 0 0 1 .815.5zM13 5h1a.5.5 0 0 1 0 1h-1.06a6.97 6.97 0 0 0-1.932-3.049.5.5 0 1 1 .637-.769A7.97 7.97 0 0 1 13 5zM8 1a2 2 0 0 1 2 2v1H6V3a2 2 0 0 1 2-2zm4.5 6h-9a.5.5 0 0 0-.5.5v.5h10v-.5a.5.5 0 0 0-.5-.5zM3 9v1.5a5.5 5.5 0 0 0 11 0V9H3z"/>
            </svg>
          </span>
          <a href="https://docs.google.com/forms/d/e/1FAIpQLSd8ibqkQ9f6epNloeu89MGwMUulefO28_XOb4vol5lkYbN-xQ/viewform?usp=header" target="_blank" rel="noopener">Report a bug</a>
        </p>
      </div>

      <p class="footer">© ScamSniff MVP — <a href="/">Back to home</a></p>
    </div>

    <script>
      // Theme toggle (remember choice)
      const themeBtn = document.getElementById('themeBtn');
      const savedTheme = localStorage.getItem('theme') || 'dark';
      if(savedTheme === 'light'){ document.body.classList.add('light'); }
      themeBtn.addEventListener('click', () => {
        document.body.classList.toggle('light');
        const mode = document.body.classList.contains('light') ? 'light' : 'dark';
        localStorage.setItem('theme', mode);
      });
    </script>
  </body>
</html>
